

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model USer{
  id            String    @Id @default(uuid()) 
  email         String
  password      String
  name          String 
  photo         String
  rooms         Room[]
  chat          Chat[]

}

model Room{

  id           Int      @Id @default(autoincrement())
  slug         String   @unique
  createdAt    DateTime @default(now())
  adminId      String
  admin        User     @relation(fields:[adminId],references:[id])
  chats        chat[]

}

model Chat{
  id           Int       @Id @default(uuid())
  roomId       Int
  message      String
  userId       String
  room         Room      @relation(fields:[roomId],references:[id])
  user         User      @relation(fields:[userId],references:[id])

}